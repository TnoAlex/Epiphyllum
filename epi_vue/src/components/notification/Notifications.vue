<template>
  <head>
    <title>Social - Network,Community and Event Theme</title><!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Webestica.com">
    <meta name="description" content="Bootstrap 5 based Social Media Network and Community Theme"><!-- Favicon -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
  </head>
  <body>
  <header class="navbar-light fixed-top header-static bg-mode">
    <!-- Logo Nav START -->
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <!-- Logo START --><a class="navbar-brand" href=""><img class="light-mode-item navbar-brand-item"
                                                                src="../../img/logo.svg" alt="logo"><img
          class="dark-mode-item navbar-brand-item" src="../../img/logo.svg"
          alt="logo"></a><!-- Logo END -->
        <!-- Responsive navbar toggler -->
        <button class="navbar-toggler ms-auto icon-md btn btn-light p-0" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse"
                aria-expanded="false" aria-label="Toggle navigation"><span
            class="navbar-toggler-animation"><span></span><span></span><span></span></span></button>
        <!-- Main navbar START -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <!-- Nav Search START -->
          <div class="nav mt-3 mt-lg-0 flex-nowrap align-items-center px-4 px-lg-0">
            <div class="nav-item w-100">
              <form class="rounded position-relative"><input class="form-control ps-5 bg-light" type="search"
                                                             placeholder="搜索" aria-label="Search">
                <button
                    class="btn bg-transparent px-2 py-0 position-absolute top-50 start-0 translate-middle-y"
                    type="submit"><i class="bi bi-search fs-5"></i></button>
              </form>
            </div>
          </div><!-- Nav Search END -->
          <ul class="navbar-nav navbar-nav-scroll ms-auto">
            <!-- Nav item 1 Demos -->
            <li class="nav-item dropdown"><a class="nav-link active dropdown-toggle" href="#" id="homeMenu"
                                             data-bs-toggle="dropdown" aria-haspopup="true"
                                             aria-expanded="false">Demo</a>
              <ul class="dropdown-menu" aria-labelledby="homeMenu">
                <li><a class="dropdown-item active" href="">主页</a></li>
                <!--                <li><a class="dropdown-item" href="index-classic.html">Home classic</a></li>-->
                <!--                <li><a class="dropdown-item" href="index-post.html">Home post</a></li>-->
                <!--                <li><a class="dropdown-item" href="index-video.html">Home video</a></li>-->
                <!--                <li><a class="dropdown-item" href="index-event.html">Home event</a></li>-->
                <!--                <li><a class="dropdown-item" href="landing.html">Landing page</a></li>-->
                <!--                <li><a class="dropdown-item" href="app-download.html">App download</a></li>-->
                <!--                <li class="dropdown-divider"></li>-->
                <!--                <li><a class="dropdown-item" href=""><i-->
                <!--                    class="text-success fa-fw bi bi-cloud-download-fill me-2"></i>Buy Social!</a></li>-->
              </ul>
            </li><!-- Nav item 2 Pages -->


            <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="pagesMenu"
                                             data-bs-toggle="dropdown" aria-haspopup="true"
                                             aria-expanded="false">Pages</a>
              <ul class="dropdown-menu" aria-labelledby="pagesMenu">
                <li><a class="dropdown-item" href="albums.html">Albums</a></li>
                <li><a class="dropdown-item" href="celebration.html">Celebration</a></li>
                <li><a class="dropdown-item" href="messaging.html">Messaging</a></li><!-- Dropdown submenu -->
                <li class="dropdown-submenu dropend"><a class="dropdown-item dropdown-toggle" href="#!">Profile</a>
                  <ul class="dropdown-menu" data-bs-popper="none">
                    <li><a class="dropdown-item" href="my-profile.html">Feed</a></li>
                    <li><a class="dropdown-item" href="my-profile-about.html">About</a></li>
                    <li><a class="dropdown-item" href="my-profile-connections.html">Connections</a></li>
                    <li><a class="dropdown-item" href="my-profile-media.html">Media</a></li>
                    <li><a class="dropdown-item" href="my-profile-videos.html">Videos</a></li>
                    <li><a class="dropdown-item" href="my-profile-events.html">Events</a></li>
                    <li><a class="dropdown-item" href="my-profile-activity.html">Activity</a></li>
                  </ul>
                </li>
                <li><a class="dropdown-item" href="events.html">Events</a></li>
                <li><a class="dropdown-item" href="events-2.html">Events 2</a></li>
                <li><a class="dropdown-item" href="event-details.html">Event details</a></li>
                <li><a class="dropdown-item" href="event-details-2.html">Event details 2</a></li>
                <li><a class="dropdown-item" href="groups.html">群组</a></li>
                <li><a class="dropdown-item" href="group-details.html">Group details</a></li>
                <li><a class="dropdown-item" href="post-videos.html">Post videos</a></li>
                <li><a class="dropdown-item" href="post-video-details.html">Post video details</a></li>
                <li><a class="dropdown-item" href="post-details.html">Post details</a></li>
                <li><a class="dropdown-item" href="video-details.html">Video details</a></li>
                <li><a class="dropdown-item" href="blog.html">Blog</a></li>
                <li><a class="dropdown-item" href="blog-details.html">Blog details</a></li>
                <!-- Dropdown submenu levels -->
                <li class="dropdown-divider"></li>
                <li class="dropdown-submenu dropend"><a class="dropdown-item dropdown-toggle" href="#">Dropdown
                  levels</a>
                  <ul class="dropdown-menu dropdown-menu-end" data-bs-popper="none">
                    <li><a class="dropdown-item" href="#">Dropdown item</a></li>
                    <li><a class="dropdown-item" href="#">Dropdown item</a></li><!-- dropdown submenu open left -->
                    <li class="dropdown-submenu dropstart"><a class="dropdown-item dropdown-toggle"
                                                              href="#">Dropdown(start)</a>
                      <ul class="dropdown-menu dropdown-menu-end" data-bs-popper="none">
                        <li><a class="dropdown-item" href="#">Dropdown item</a></li>
                        <li><a class="dropdown-item" href="#">Dropdown item</a></li>
                      </ul>
                    </li>
                    <li><a class="dropdown-item" href="#">Dropdown item</a></li>
                  </ul>
                </li>
              </ul>
            </li><!-- Nav item 3 Post -->
            <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="postMenu"
                                             data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Account </a>
              <ul class="dropdown-menu" aria-labelledby="postMenu">

                <li class="dropdown-submenu dropstart"><a class="dropdown-item dropdown-toggle"
                                                          href="#">Authentication</a>
                  <ul class="dropdown-menu dropdown-menu-end" data-bs-popper="none">
                    <li><a class="dropdown-item" href="sign-in.html">Sign in</a></li>
                    <li><a class="dropdown-item" href="sign-up.html">Sing up</a></li>
                    <li><a class="dropdown-item" href="forgot-password.html">Forgot password</a></li>
                    <li class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="sign-in-advance.html">Sign in advance</a></li>
                    <li><a class="dropdown-item" href="sign-up-advance.html">Sing up advance</a></li>
                    <li><a class="dropdown-item" href="forgot-password-advance.html">Forgot password advance</a></li>
                  </ul>
                </li>
                <!--                <li><a class="dropdown-item" href="error-404.html">Error 404</a></li>-->
                <!--                <li><a class="dropdown-item" href="offline.html">Offline</a></li>-->
                <!--                <li><a class="dropdown-item" href="privacy-and-terms.html">Privacy & terms</a></li>-->
              </ul>
            </li><!-- Nav item 4 Mega menu -->
            <!--            <li class="nav-item"><a class="nav-link" href="my-profile-connections.html">My network</a></li>-->
          </ul>
        </div><!-- Main navbar END -->
        <!-- Nav right START -->


        <ul class="nav flex-nowrap align-items-center ms-sm-3 list-unstyled">
          <li class="nav-item ms-2"><a class="nav-link icon-md btn btn-light p-0" href="messaging.html">
            <ChatLineRound style="width: 25px; height: 25px; margin-right: 0px"/>
          </a></li>

          <li class="nav-item ms-2"><a class="nav-link icon-md btn btn-light p-0" href="settings.html">
            <Setting style="width: 25px; height: 25px; margin-right: 0px"/>
          </a></li>


          <li class="nav-item dropdown ms-2">
            <a class="nav-link icon-md btn btn-light p-0" href="#" id="notifDropdown"
               role="button" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside">
              <span class="badge-notif animation-blink"></span>
              <Bell style="width: 25px; height: 25px; margin-right: 0px"/>
            </a>
            <div class="dropdown-menu dropdown-animation dropdown-menu-end dropdown-menu-size-md p-0 shadow-lg border-0"
                 aria-labelledby="notifDropdown">
              <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                  <h6 class="m-0">通知<span class="badge bg-danger bg-opacity-10 text-danger ms-2">4
                      new</span></h6><a class="small" href="#">清除全部</a>
                </div>
                <div class="card-body p-0">
                  <ul class="list-group list-group-flush list-unstyled p-2">
                    <!-- Notif item -->
                    <li>
                      <div class="list-group-item list-group-item-action rounded badge-unread d-flex border-0 mb-1 p-3">
                        <div class="avatar text-center d-none d-sm-inline-block"><img class="avatar-img rounded-circle"
                                                                                      src="../../img/01.jpg" alt="">
                        </div>
                        <div class="ms-sm-3">
                          <div class=" d-flex">
                            <p class="small mb-2"><b>Judy Nguyen</b>sent you a friend request.</p>
                            <p class="small ms-3 text-nowrap">Just now</p>
                          </div>
                          <div class="d-flex">
                            <button class="btn btn-sm py-1 btn-primary me-2">Accept</button>
                            <button
                                class="btn btn-sm py-1 btn-danger-soft">Delete
                            </button>
                          </div>
                        </div>
                      </div>
                    </li><!-- Notif item -->
                    <li>
                      <div
                          class="list-group-item list-group-item-action rounded badge-unread d-flex border-0 mb-1 p-3 position-relative">
                        <div class="avatar text-center d-none d-sm-inline-block"><img class="avatar-img rounded-circle"
                                                                                      src="../../img/02.jpg" alt="">
                        </div>
                        <div class="ms-sm-3 d-flex">
                          <div>
                            <p class="small mb-2">Wish <b>Amanda Reed</b>a happy birthday(Nov 12)</p>
                            <button
                                class="btn btn-sm btn-outline-light py-1 me-2">Say happy birthday 🎂
                            </button>
                          </div>
                          <p class="small ms-3">2min</p>
                        </div>
                      </div>
                    </li><!-- Notif item -->
                    <li><a href="#" class="list-group-item list-group-item-action rounded d-flex border-0 mb-1 p-3">
                      <div class="avatar text-center d-none d-sm-inline-block">
                        <div class="avatar-img rounded-circle bg-success"><span
                            class="text-white position-absolute top-50 start-50 translate-middle fw-bold">WB</span>
                        </div>
                      </div>
                      <div class="ms-sm-3">
                        <div class="d-flex">
                          <p class="small mb-2">Webestica has 15 like and 1 new activity</p>
                          <p class="small ms-3">1hr</p>
                        </div>
                      </div>
                    </a></li><!-- Notif item -->
                    <li><a href="#" class="list-group-item list-group-item-action rounded d-flex border-0 p-3 mb-1">
                      <div class="avatar text-center d-none d-sm-inline-block"><img class="avatar-img rounded-circle"
                                                                                    src="../../img/12.svg" alt=""></div>
                      <div class="ms-sm-3 d-flex">
                        <p class="small mb-2"><b>Bootstrap in the news:</b>The search giant’s parent
                          company,Alphabet,just joined an exclusive club of tech stocks.</p>
                        <p class="small ms-3">4hr</p>
                      </div>
                    </a></li>
                  </ul>
                </div>
                <div class="card-footer text-center"><a href="#" class="btn btn-sm btn-primary-soft">See all incoming
                  activity</a></div>
              </div>
            </div>
          </li><!-- Notification dropdown END -->


          <li class="nav-item ms-2 dropdown"><a class="nav-link btn icon-md p-0" href="#" id="profileDropdown"
                                                role="button" data-bs-auto-close="outside" data-bs-display="static"
                                                data-bs-toggle="dropdown"
                                                aria-expanded="false"><img class="avatar-img rounded-2"
                                                                           src="../../img/07.jpg" alt=""></a>
            <ul class="dropdown-menu dropdown-animation dropdown-menu-end pt-3 small me-md-n3"
                aria-labelledby="profileDropdown">
              <!-- Profile info -->
              <li class="px-3">
                <div class="d-flex align-items-center position-relative">
                  <!-- Avatar -->
                  <div class="avatar me-3"><img class="avatar-img rounded-circle" src="../../img/07.jpg" alt="avatar">
                  </div>
                  <div><a class="h6 stretched-link" href="#">Lori Ferguson</a>
                    <p class="small m-0">Web Developer</p>
                  </div>
                </div>
                <a class="dropdown-item btn btn-primary-soft btn-sm my-2 text-center" href="my-profile.html">View
                  profile</a>
              </li><!-- Links -->
              <li><a class="dropdown-item" href="settings.html"><i class="bi bi-gear fa-fw me-2"></i>Settings &
                Privacy</a></li>
              <li><a class="dropdown-item" href=""><i class="fa-fw bi bi-life-preserver me-2"></i>Support </a></li>
              <li><a class="dropdown-item" href=""><i class="fa-fw bi bi-card-text me-2"></i>Documentation </a></li>
              <li class="dropdown-divider"></li>
              <li><a class="dropdown-item bg-danger-soft-hover" href="sign-in-advance.html"><i
                  class="bi bi-power fa-fw me-2"></i>Sign Out</a></li>
              <li>
                <hr class="dropdown-divider">
              </li><!-- Dark mode switch START -->
              <li>
                <div class="modeswitch-wrap" id="darkModeSwitch">
                  <div class="modeswitch-item">
                    <div class="modeswitch-icon"></div>
                  </div>
                  <span>Dark mode</span>
                </div>
              </li><!-- Dark mode switch END -->
            </ul>
          </li><!-- Profile START -->
        </ul><!-- Nav right END -->


      </div>
    </nav><!-- Logo Nav END -->
  </header><!-- ======================= Header END -->
  <main>
    <!-- Container START -->
    <div class="container">
      <div class="row g-4">
        <!-- Main content START -->
        <div class="col-lg-8 mx-auto">
          <!-- Card START -->
          <div class="card">
            <div class="card-header py-3 border-0 d-flex align-items-center justify-content-between">
              <h1 class="h5 mb-0">通知</h1><!-- Notification action START -->
              <div class="dropdown">
                <a href="#"
                                       class="text-secondary btn btn-secondary-soft-hover py-1 px-2" id="cardNotiAction"
                                       data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-three-dots"></i>
                </a>
                <!-- Card share action dropdown menu -->
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="cardNotiAction">
                  <li @click="markdownAll">
                    <a class="dropdown-item" href="###"><i class="bi bi-check-lg fa-fw pe-2">
                    </i>全部标记为阅读</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="card-body p-2" >
              <ul   class="list-unstyled" v-for="(item,index) in NotificationList" :key="index" >
                <!-- Notif item -->
                <li v-if="item.isRead===false">
                  <div class="rounded badge-unread d-sm-flex border-0 mb-1 p-3 position-relative">
                    <!-- Avatar -->
                    <div class="avatar text-center"><img class="avatar-img rounded-circle"
                                                         src="" alt=""></div><!-- Info -->
                    <div class="mx-sm-3 my-2 my-sm-0">
                      <p class="small mb-0"><b>你有一条新消息</b></p>
                      <p class="small">{{item.text}}</p>
                    </div><!-- Action -->
                    <div class="d-flex ms-auto">
                      <p class="small me-5 text-nowrap"> {{timeTranslate(item.time)}}</p>
                      <!-- Notification action START -->
                      <div class="dropdown position-absolute end-0 top-0 mt-3 me-3"><a href="###"
                                                                                       class="z-index-1 text-secondary btn position-relative py-0 px-2"
                                                                                       id="cardNotiAction6" data-bs-toggle="dropdown"
                                                                                       aria-expanded="false"><i class="bi bi-three-dots"></i></a>
                        <!-- Card share action dropdown menu -->
                        <ul class="dropdown-menu dropdown-menu-end"
                            aria-labelledby="cardNotiAction6">
                          <li @click="deleteNotification(index)"><a class="dropdown-item" href="###"><i
                              class="bi bi-trash fa-fw pe-2"></i>删除</a>
                          </li>
                          <li @click="closeRemain(index)"><a class="dropdown-item" href="###"><i
                              class="bi bi-bell-slash fa-fw pe-2"></i>关闭提醒 </a>
                          </li>
                          <!--                            <li><a class="dropdown-item" href="#"><i-->
                          <!--                                class="bi bi-volume-mute fa-fw fs-5 pe-2"></i>Mute Judy-->
                          <!--                              Nguyen </a></li>-->
                        </ul>
                      </div><!-- Notification action END -->
                    </div>
                  </div>
                </li><!-- Notif item -->
                <li v-if="item.isRead===true">
                  <div class="rounded d-sm-flex border-0 mb-1 p-3 position-relative">
                    <!-- Avatar -->
                    <div class="avatar text-center"><img class="avatar-img rounded-circle"
                                                         src=""  alt=""></div><!-- Info -->
                    <div class="mx-sm-3 my-2 my-sm-0"><a href="###"
                                                         class="stretched-link small mb-0 text-secondary"><b>你有一条新的消息</b></a>
                      <p class="small mb-0">{{item.text}}</p>
                    </div><!-- Action -->
                    <div class="d-flex ms-auto">
                      <p class="small me-5 text-nowrap">{{timeTranslate(item.time)}}</p><!-- Notification action START -->
                      <div class="dropdown position-absolute end-0 top-0 mt-3 me-3"><a href="#"
                                                                                       class="z-index-1 text-secondary btn position-relative py-0 px-2"
                                                                                       id="cardNotiAction7" data-bs-toggle="dropdown"
                                                                                       aria-expanded="false"><i class="bi bi-three-dots"></i></a>
                        <!-- Card share action dropdown menu -->
                        <ul class="dropdown-menu dropdown-menu-end"
                            aria-labelledby="cardNotiAction7">
                          <li @click="deleteNotification(index)"><a class="dropdown-item" href="###"><i
                              class="bi bi-trash fa-fw pe-2"></i>删除</a></li>
                          <li @click="closeRemain(index)"><a class="dropdown-item" href="###"><i
                              class="bi bi-bell-slash fa-fw pe-2"></i>关闭提醒</a>
                          </li>
                          <!--                            <li><a class="dropdown-item" href="#"><i-->
                          <!--                                class="bi bi-volume-mute fa-fw fs-5 pe-2"></i>Mute Judy-->
                          <!--                              Nguyen </a></li>-->
                        </ul>
                      </div><!-- Notification action END -->
                    </div>
                  </div>
                </li><!-- Notif item -->
              </ul>
              <div id="loadDiv" class="card-footer border-0 py-3 text-center position-relative d-grid pt-0">
                <el-button @click="loadMore" type="primary" round>{{loading ? '点击加载更多' : '已经到底啦~'}}</el-button>
              </div>
            </div>
          </div><!-- Card END -->
        </div>
      </div><!-- Row END -->
    </div><!-- Container END -->
  </main><!-- **************** MAIN CONTENT END **************** -->
  </body>


</template>
<script>

export default {
  name: "notification",
  components:{
  },
  data(){
    return{
      imgURL:"../../img",
      loading:true,
      pageIndex:1,
      NotificationList:[],
      TestNotificationList:[
        {
          avatar:"02.jpg",
          time:1663594100,
          text:"五花马，千金裘，呼儿将出换美酒，与尔同销万古愁",
          isRead:true

        },
        {
          avatar:"../../img/02.jpg",
          time:1663594101,
          text:"五花马，千金裘，呼儿将出换美酒，与尔同销万古愁",
          isRead:true

        },
        {

          avatar:"../../img/02.jpg",
          time:1663594102,
          text:"五花马，千金裘，呼儿将出换美酒，与尔同销万古愁",
          isRead:true

        },
        {
          avatar:"../../img/02.jpg",
          time:1663594103,
          text:"五花马，千金裘，呼儿将出换美酒，与尔同销万古愁",
          isRead:true

        },
        {
          avatar:"../../img/02.jpg",
          time:1663594104,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
        {
          avatar:"../../img/01.jpg",
          time:1663594105,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
        {
          avatar:"../../img/01.jpg",
          time:1663594106,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
        {
          avatar:"../../img/01.jpg",
          time:1663594107,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
        {
          avatar:"../../img/01.jpg",
          time:1663594108,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
        {
          avatar:"../../img/01.jpg",
          time:1663594109,
          text:"醉卧沙场君莫笑，古来征战几人回",
          isRead:false
        },
      ],
    }
  },
  methods:{
    getNotifications(pageIndex)
    {
      console.log("请求页数：",pageIndex)
      //发出get请求，连接，concat(请求到的数据)
      // if()
      // {//如果请求的数据小于一页的内容
      //  this.loading = false
      // }
      //首先将拿到图片的地址require

      this.NotificationList = this.NotificationList.concat(this.TestNotificationList)
      // this.NotificationList = List.sort((a,b)=>b.time-a.time);
      /*   console.log(this.NotificationList.length)*/
      // document.documentElement.scrollTop =
    },

    loadMore()
    {
      let winHeight = window.innerHeight || document.documentElement.clientHeight;
      let docHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
      // console.log(document.documentElement.scrollTop)
      this.pageIndex = this.pageIndex+1
      this.getNotifications(this.pageIndex);

      document.documentElement.scrollTop = docHeight-winHeight-1

    },
    deleteNotification(index)
    {
      //将数据更改，然后发给后端
      this.NotificationList.splice(index,1);

      if(this.NotificationList.length<=8)
      {
        this.loadMore();
      }
    },
    closeRemain(index)
    {
      //首先将元素中的isRead更改，然后发给后端
      this.NotificationList[index].isRead = true;
    },
    markdownAll()
    {
      for(let i = 0;i<this.NotificationList.length;i++)
      {
        if(this.NotificationList[i].isRead===false)
        {
          this.NotificationList[i].isRead=true;
        }
      }
      //然后发送给后端
    },
    timeTranslate(timestamp)
    {
      let timeString = timestamp;
      let timeLength  = timeString.toString().length
      if(timeLength==10)
      {
        timestamp = timestamp*1000;
      }

      let date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
      let Y = date.getFullYear() + '-';
      let M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1):date.getMonth()+1) + '-';
      let D = (date.getDate()< 10 ? '0'+date.getDate():date.getDate())+ ' ';
      let h = (date.getHours() < 10 ? '0'+date.getHours():date.getHours())+ ':';
      let m = (date.getMinutes() < 10 ? '0'+date.getMinutes():date.getMinutes()) + ':';
      let s = date.getSeconds() < 10 ? '0'+date.getSeconds():date.getSeconds();
      return Y+M+D+h+m+s;
    },
    scrollFn()
    {

      //获取窗口高度，获取滚动出去的高度，获取文档的高度
      //窗口高度
      // let winHeight = window.innerHeight || document.documentElement.clientHeight;
      // //滚出去的高度
      // let st = document.documentElement.scrollTop || document.body.scrollTop;
      // //文档高度
      // let docHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
      // console.log("winHeight",winHeight)
      // console.log("st",st)
      // console.log("docHeight",docHeight)
      // if(winHeight+st>=docHeight)
      // {
      //   console.log("触底")
      //   this.loadMore();
      // }
    }

  },
  created()
  {
    //创建的时候发出请求
    this.getNotifications(this.pageIndex)
    // console.log(window.innerHeight)
  },
  computed:{

  },
  mounted() {
    //监听滚动
    // window.addEventListener("scroll",this.scrollFn);
  },
  beforeUnmount() {
    //移除滚动
    // window.removeEventListener("scroll",this.scrollFn);

  }
}
</script>

<style scoped>
@import url(@/css/font.css);
@import url(@/css/all.min.css);
@import url(@/css/style.css);
@import url(@/css/css2.css);
@import url(@/Icon/loading01/iconfont.css);
.loading{
  display: flex;
  align-items: center;
  padding-bottom: 20px;
  justify-content: center;
}
.loading .iconfont{
  margin-right: 10px;
  animation: loading 1s linear infinite;
}
@keyframes loading {
  from{transform: rotate(0);}
  from{transform: rotate(360deg);}
}
</style>